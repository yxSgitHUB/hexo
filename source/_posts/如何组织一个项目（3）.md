---
title: 如何组织一个项目（3）
date: 2021-01-13 19:54:18
tags: [ 代码人生 ]
---
18年我因为工作上的原因去了杭州，参加杭州市的智慧城市项目，口号是"最多跑一次"，主要内容就是政府提供的办事事项等在线办理，类似于支付宝提供的在线查询的服务之类的，我们团队的工作内容是搭建一个app框架，首页个人中心等，内容大多是h5的办事事项，这些h5又各个事项单位提供，我们设计一个模式来维护这些事项

我们的项目分为 app主体框架 webview-h5容器，后台管理系统，我这边有涉及的话是两块一个是后台管理系统，一个是app内嵌的jsSDK，主要是负责h5和app交互，项目大概有六七个人协作，这时候发现项目结构的不足就产生了

1. 项目的配置不够明晰
2. 互相之间分模块开发，对于react-router的利用不足
3. webpack，react，antd的版本需要升级
4. 通用组件互相改来改去影响其他人的功能
5. 打包的优化
6. 生产，测试，开发环境的区分

{% asset_img WX20210113-200318.png %}

经过调研之后选择了create-react-app来创建项目，jest之后进行魔改
脚手架相关的配置放到了config文件夹下，其中包括了devServer,项目入口的path管理，打包和开发环境分里，各自有不同的配置

{% asset_img WX20210113-203430.png %}

public里面是项目的模板html

script文件夹是打包的命令配置，里面可以做各种打包的魔改，这里实现了环境的区分，可以利用命令打生产包或是测试包

{% asset_img WX20210113-203713.png %}

这个时候已经开始试着去做项目自己的管理，router的管理，通用组件的管理，但是这些都是靠人力来搞

之后另一个模块是jsBridge，jsSDK，这块就是变动性比较大，app支持的功能比较杂，改动的时候又容易误伤

但是这块是我第一个项目写来给别人用的，从来支援的前辈那里要了一份文档模板，写了一份对接文档，部署了一份测试项目给测试和开发同学来使用

这个时候对于项目的思考又不太一样了，我会更多的考虑与别人如何协作，开发同学拿到这份项目之后如何能够尽快的上手，开发过程中如何尽量少的起冲突，如何利用工具提高开发的效率，之后升级如何能更快，如何可插拔的使用某些webpack插件，之后还有一些对于项目的优化，最终目的就是项目交接到其他人手里很容易就接手，基本不需要动开发环境，就写写业务代码就好



未完待续